<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Sun Jan 20 18:00:39 PST 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>MonitorServiceImpl (remote-monitor 0.0.1-SNAPSHOT API)</title>
<meta name="date" content="2019-01-20">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MonitorServiceImpl (remote-monitor 0.0.1-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MonitorServiceImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/monitor/service/MonitorServiceImpl.html" target="_top">Frames</a></li>
<li><a href="MonitorServiceImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.monitor.service</div>
<h2 title="Class MonitorServiceImpl" class="title">Class MonitorServiceImpl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.monitor.service.MonitorServiceImpl</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/monitor/interfaces/MonitorService.html" title="interface in com.monitor.interfaces">MonitorService</a></dd>
</dl>
<hr>
<br>
<pre>@Component
public class <span class="typeNameLabel">MonitorServiceImpl</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../com/monitor/interfaces/MonitorService.html" title="interface in com.monitor.interfaces">MonitorService</a></pre>
<div class="block">Implementation of MonitorService.
 All the configurable time periods are in milliseconds
 GracePeriod and PollingInterval</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>akshayhiremath</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../com/monitor/util/InputValidator.html" title="class in com.monitor.util">InputValidator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/monitor/service/MonitorServiceImpl.html#inputValidator">inputValidator</a></span></code>
<div class="block">The monitor service Input validator.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../com/monitor/core/ServiceMonitorConfig.html" title="class in com.monitor.core">ServiceMonitorConfig</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/monitor/service/MonitorServiceImpl.html#serviceMonitorConfig">serviceMonitorConfig</a></span></code>
<div class="block">Central configuration store.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/monitor/service/MonitorServiceImpl.html#MonitorServiceImpl--">MonitorServiceImpl</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/monitor/service/MonitorServiceImpl.html#addAndMonitorNewService-com.monitor.model.Service-">addAndMonitorNewService</a></span>(<a href="../../../com/monitor/model/Service.html" title="class in com.monitor.model">Service</a>&nbsp;service)</code>
<div class="block">Add a new Service to the set of services being monitored by by MonitorService
 and starts monitoring for it in a separate thread.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/monitor/service/MonitorServiceImpl.html#registerInterestInExistingService-com.monitor.model.Service-com.monitor.model.Client-">registerInterestInExistingService</a></span>(<a href="../../../com/monitor/model/Service.html" title="class in com.monitor.model">Service</a>&nbsp;service,
                                 <a href="../../../com/monitor/model/Client.html" title="class in com.monitor.model">Client</a>&nbsp;client)</code>
<div class="block">Register specified client's interest to know the status of the service being monitored by 
 ServiceMonitor.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/monitor/service/MonitorServiceImpl.html#startServiceMonitor--">startServiceMonitor</a></span>()</code>
<div class="block">Initiates the process of monitoring with the Pre-Configured Service and Client configuration.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/monitor/service/MonitorServiceImpl.html#stopServiceMonitoring--">stopServiceMonitoring</a></span>()</code>
<div class="block">Stops all threads monitoring the services registered in ServiceMonitor.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/monitor/service/MonitorServiceImpl.html#updateGracePeriod-int-">updateGracePeriod</a></span>(int&nbsp;gracePeriod)</code>
<div class="block">Updates grace period before notification
 for all services in the central configuration</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="inputValidator">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inputValidator</h4>
<pre>@Autowired
private&nbsp;<a href="../../../com/monitor/util/InputValidator.html" title="class in com.monitor.util">InputValidator</a> inputValidator</pre>
<div class="block">The monitor service Input validator.</div>
</li>
</ul>
<a name="serviceMonitorConfig">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>serviceMonitorConfig</h4>
<pre>@Autowired
private&nbsp;<a href="../../../com/monitor/core/ServiceMonitorConfig.html" title="class in com.monitor.core">ServiceMonitorConfig</a> serviceMonitorConfig</pre>
<div class="block">Central configuration store.
 It contains 
 1. register of services being monitered,
 2. Grace period applicable to all services</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MonitorServiceImpl--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MonitorServiceImpl</h4>
<pre>public&nbsp;MonitorServiceImpl()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="registerInterestInExistingService-com.monitor.model.Service-com.monitor.model.Client-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerInterestInExistingService</h4>
<pre>public&nbsp;void&nbsp;registerInterestInExistingService(<a href="../../../com/monitor/model/Service.html" title="class in com.monitor.model">Service</a>&nbsp;service,
                                              <a href="../../../com/monitor/model/Client.html" title="class in com.monitor.model">Client</a>&nbsp;client)
                                       throws <a href="../../../com/monitor/Exception/MonitorServiceException.html" title="class in com.monitor.Exception">MonitorServiceException</a></pre>
<div class="block">Register specified client's interest to know the status of the service being monitored by 
 ServiceMonitor.
 Status of service is checked by attempting a simple TCP
 connection to the Host and Port.
 Here the Service passed in the argument just need to have correct host and port, other attributes are ignored.
 The service instance passed is used to match and find the existing service instance and to register the passed
 client to it.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/monitor/interfaces/MonitorService.html#registerInterestInExistingService-com.monitor.model.Service-com.monitor.model.Client-">registerInterestInExistingService</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/monitor/interfaces/MonitorService.html" title="interface in com.monitor.interfaces">MonitorService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>service</code> - Service to monitor</dd>
<dd><code>client</code> - client interested in knowing the status of the service.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/monitor/Exception/MonitorServiceException.html" title="class in com.monitor.Exception">MonitorServiceException</a></code> - if any error occurs during monitoring
                                                                   the exception message would illustrate the cause</dd>
</dl>
</li>
</ul>
<a name="addAndMonitorNewService-com.monitor.model.Service-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addAndMonitorNewService</h4>
<pre>public&nbsp;void&nbsp;addAndMonitorNewService(<a href="../../../com/monitor/model/Service.html" title="class in com.monitor.model">Service</a>&nbsp;service)
                             throws <a href="../../../com/monitor/Exception/MonitorServiceException.html" title="class in com.monitor.Exception">MonitorServiceException</a></pre>
<div class="block">Add a new Service to the set of services being monitored by by MonitorService
 and starts monitoring for it in a separate thread.
 Service passed to this method will have client/clients pre-registered to it.
 The called has to create Client and Service instances, then set the service instance 
 to Client, register each client to the service with service.registerClient() and 
 then pass the service instance to this API.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/monitor/interfaces/MonitorService.html#addAndMonitorNewService-com.monitor.model.Service-">addAndMonitorNewService</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/monitor/interfaces/MonitorService.html" title="interface in com.monitor.interfaces">MonitorService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>service</code> - </dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/monitor/Exception/MonitorServiceException.html" title="class in com.monitor.Exception">MonitorServiceException</a></code></dd>
</dl>
</li>
</ul>
<a name="startServiceMonitor--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startServiceMonitor</h4>
<pre>public&nbsp;void&nbsp;startServiceMonitor()
                         throws <a href="../../../com/monitor/Exception/MonitorServiceException.html" title="class in com.monitor.Exception">MonitorServiceException</a></pre>
<div class="block">Initiates the process of monitoring with the Pre-Configured Service and Client configuration.
 The initial configuration could be provided in MonitorConfiguration class.
 The bean serviceRegister contains the central repository of all the Services that
 MonitorService will deal with.
 
 Creates one thread for monitoring each service and executes in parallel.
 The polling interval is taken as smallest polling interval 
 out of the intervals specified by each client/caller interested 
 in monitoring the service</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/monitor/interfaces/MonitorService.html#startServiceMonitor--">startServiceMonitor</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/monitor/interfaces/MonitorService.html" title="interface in com.monitor.interfaces">MonitorService</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/monitor/Exception/MonitorServiceException.html" title="class in com.monitor.Exception">MonitorServiceException</a></code></dd>
</dl>
</li>
</ul>
<a name="updateGracePeriod-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateGracePeriod</h4>
<pre>public&nbsp;void&nbsp;updateGracePeriod(int&nbsp;gracePeriod)</pre>
<div class="block">Updates grace period before notification
 for all services in the central configuration</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/monitor/interfaces/MonitorService.html#updateGracePeriod-int-">updateGracePeriod</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/monitor/interfaces/MonitorService.html" title="interface in com.monitor.interfaces">MonitorService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>gracePeriod</code> - period to wait before notifying in milliseconds</dd>
</dl>
</li>
</ul>
<a name="stopServiceMonitoring--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>stopServiceMonitoring</h4>
<pre>public&nbsp;void&nbsp;stopServiceMonitoring()</pre>
<div class="block">Stops all threads monitoring the services registered in ServiceMonitor.
 The caller/user of the ServiceMonitor could stop the all the monitoring threads gracefully
 with a call to this API.
 This sets the polling flags checked by each thread that causes the monitoring thread to stop
 at next iteration.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/monitor/interfaces/MonitorService.html#stopServiceMonitoring--">stopServiceMonitoring</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/monitor/interfaces/MonitorService.html" title="interface in com.monitor.interfaces">MonitorService</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MonitorServiceImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/monitor/service/MonitorServiceImpl.html" target="_top">Frames</a></li>
<li><a href="MonitorServiceImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019. All rights reserved.</small></p>
</body>
</html>
